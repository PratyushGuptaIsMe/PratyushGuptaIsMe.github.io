<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Local Chat</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f0f0; margin: 0; display: flex; flex-direction: column; height: 100vh; }
  #chat { flex: 1; overflow-y: auto; padding: 10px; background: #fff; border-bottom: 1px solid #ccc; }
  #messageInput { display: flex; }
  #messageInput input { flex: 1; padding: 10px; border: none; border-top: 1px solid #ccc; font-size: 16px; }
  #messageInput button { padding: 10px 20px; border: none; border-top: 1px solid #ccc; background: #007bff; color: white; cursor: pointer; }
  .message { padding: 5px 10px; margin: 5px 0; border-radius: 5px; background: #e0e0e0; }
</style>
</head>
<body>

<div id="chat"></div>
<div id="messageInput">
  <input id="msg" type="text" placeholder="Type a message..." />
  <button onclick="sendMessage()">Send</button>
</div>

<script>
  const chat = document.getElementById('chat');
  const msgInput = document.getElementById('msg');

  // Load messages from localStorage
  let messages = JSON.parse(localStorage.getItem('chatMessages')) || [];

  function displayMessages() {
    chat.innerHTML = '';
    messages.forEach(msg => {
      const div = document.createElement('div');
      div.className = 'message';
      div.textContent = msg;
      chat.appendChild(div);
    });
    chat.scrollTop = chat.scrollHeight;
  }

  function sendMessage() {
    const text = msgInput.value.trim();
    if(text) {
      messages.push(text);
      localStorage.setItem('chatMessages', JSON.stringify(messages));
      displayMessages();
      msgInput.value = '';
    }
  }

  // Send message on Enter key
  msgInput.addEventListener('keypress', e => {
    if(e.key === 'Enter') sendMessage();
  });

  displayMessages();
</script>

</body>
</html>